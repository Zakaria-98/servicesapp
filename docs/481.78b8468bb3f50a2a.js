"use strict";(self.webpackChunkservices=self.webpackChunkservices||[]).push([[481],{1481:(R,b,a)=>{a.r(b),a.d(b,{CitiesModule:()=>P});var d=a(9808),f=a(6157),v=a(1437),l=a(3075),t=a(5e3),m=a(7261),w=a(3953),p=a(7879),r=a(2349),g=a(7423),u=a(7322),h=a(7531);function x(n,s){1&n&&(t.TgZ(0,"small"),t._uU(1," \u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0625\u0633\u0645"),t.qZA())}let T=(()=>{class n{constructor(e,o,i){this._snackBar=e,this.validation=o,this.cities=i,this.addcity={name:""},this.newcityform=new l.cw({name:new l.NI("",[l.kI.required,this.validation.Validatetext])})}ngOnInit(){}onSubmit(){var e;this.addcity.name=null===(e=this.newcityform.get("name"))||void 0===e?void 0:e.value,console.log(this.addcity.name),this.cities.addcity(this.addcity).subscribe({next:o=>{console.log(o),this.openSnackBar("\u062a\u0645\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d","\u0627\u0636\u0627\u0641\u0629"),window.location.reload()},error:o=>{this.openSnackBarfalse("\u0644\u0645 \u062a\u062a\u0645 \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u064a\u0631\u062c\u0649 \u0627\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629","\u0627\u0636\u0627\u0641\u0629"),console.log(o)}})}openSnackBar(e,o){this._snackBar.open(e,o,{duration:2e3,panelClass:["mat-toolbar","mat-primary"]})}openSnackBarfalse(e,o){this._snackBar.open(e,o,{duration:2e3,panelClass:["mat-toolbar","mat-warn"]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.ux),t.Y36(w.S),t.Y36(p.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-newdialog"]],decls:14,vars:3,consts:[["matDialogTitle",""],["mat-dialog-container","",1,"contents"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","type","text","formControlName","name","required",""],[4,"ngIf"],["mat-dialog-actions","",1,"btns"],["mat-dialog-close","","mat-raised-button","","mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","warn","mat-dialog-close","","mat-button",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"p",0),t._uU(1,"\u0625\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"\u0627\u0644\u0627\u0633\u0645 "),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.YNc(8,x,2,0,"small",5),t.TgZ(9,"div",6)(10,"button",7),t._uU(11," \u0625\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(12,"button",8),t._uU(13,"\u0625\u0644\u063a\u0640\u0627\u0621"),t.qZA()()()()),2&e){let i;t.xp6(3),t.Q6J("formGroup",o.newcityform),t.xp6(5),t.Q6J("ngIf",(null==(i=o.newcityform.get("name"))?null:i.invalid)&&(null==(i=o.newcityform.get("name"))?null:i.touched)),t.xp6(2),t.Q6J("disabled",o.newcityform.invalid)}},dependencies:[d.O5,r.ZT,r.uh,r.H8,g.lW,u.KE,u.hX,h.Nt,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u],styles:["body[_ngcontent-%COMP%]{overflow:hidden}.example-form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden}.contents[_ngcontent-%COMP%]{height:200px;overflow:hidden}p[_ngcontent-%COMP%]{font-family:alexandria}mat-label[_ngcontent-%COMP%]{font-family:cairo}button[_ngcontent-%COMP%]{font-family:alexandria}input[_ngcontent-%COMP%]{font-family:alexandria;font-size:large}"]}),n})();function _(n,s){1&n&&(t.TgZ(0,"small"),t._uU(1," \u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0625\u0633\u0645"),t.qZA())}let Z=(()=>{class n{constructor(e,o,i,c,Y){this._snackBar=e,this.validation=o,this.cities=i,this.dialogRef=c,this.data=Y,this.addcity={name:""},this.newcityform=new l.cw({name:new l.NI("",[l.kI.required,this.validation.Validatetext])})}ngOnInit(){this.title=this.data.Title,this.id=this.data.id,this.name=this.data.name}onSubmit(){var e;this.addcity.name=null===(e=this.newcityform.get("name"))||void 0===e?void 0:e.value,console.log(this.addcity.name),this.cities.editcity(this.id,this.addcity).subscribe({next:o=>{console.log(o),this.openSnackBar("\u062a\u0645\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d","\u062a\u0639\u062f\u064a\u0644"),window.location.reload()},error:o=>{console.log(o),this.openSnackBarfalse("\u0644\u0645 \u062a\u062a\u0645 \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u064a\u0631\u062c\u0649 \u0627\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629","\u062a\u0639\u062f\u064a\u0644")}})}openSnackBar(e,o){this._snackBar.open(e,o,{duration:2e3,panelClass:["mat-toolbar","mat-primary"]})}openSnackBarfalse(e,o){this._snackBar.open(e,o,{duration:2e3,panelClass:["mat-toolbar","mat-warn"]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.ux),t.Y36(w.S),t.Y36(p.e),t.Y36(r.so),t.Y36(r.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editdialog"]],decls:14,vars:4,consts:[["matDialogTitle",""],["mat-dialog-container","",1,"contents"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","type","text","formControlName","name","required",""],[4,"ngIf"],["mat-dialog-actions","",1,"btns"],["mat-dialog-close","","mat-raised-button","","mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","warn","mat-dialog-close","","mat-button",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"p",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"\u0627\u0644\u0627\u0633\u0645 "),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.YNc(8,_,2,0,"small",5),t.TgZ(9,"div",6)(10,"button",7),t._uU(11," \u0625\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(12,"button",8),t._uU(13,"\u0625\u0644\u063a\u0640\u0627\u0621"),t.qZA()()()()),2&e){let i;t.xp6(1),t.Oqu(o.title),t.xp6(2),t.Q6J("formGroup",o.newcityform),t.xp6(5),t.Q6J("ngIf",(null==(i=o.newcityform.get("name"))?null:i.invalid)&&(null==(i=o.newcityform.get("name"))?null:i.touched)),t.xp6(2),t.Q6J("disabled",o.newcityform.invalid)}},dependencies:[d.O5,r.ZT,r.uh,r.H8,g.lW,u.KE,u.hX,h.Nt,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u],styles:["body[_ngcontent-%COMP%]{overflow:hidden}.example-form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden}.contents[_ngcontent-%COMP%]{height:200px;overflow:hidden}p[_ngcontent-%COMP%]{font-family:alexandria}mat-label[_ngcontent-%COMP%]{font-family:cairo}button[_ngcontent-%COMP%]{font-family:alexandria}input[_ngcontent-%COMP%]{font-family:alexandria;font-size:large}"]}),n})();var C=a(3172),y=a(5245);function k(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.edit_city_dialog())}),t._uU(1,"\u062a\u0639\u062f\u064a\u0644 "),t.TgZ(2,"mat-icon",2),t._uU(3,"update"),t.qZA()()}}function N(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.delete_city_dialog())}),t._uU(1,"\u062d\u0630\u0641 "),t.TgZ(2,"mat-icon",2),t._uU(3,"delete"),t.qZA()()}}const A=[{path:"",component:(()=>{class n{constructor(e,o,i){this._snackBar=e,this.dialog=o,this.cities=i,this.show_delete_btn=!0,this.show_edit_btn=!0,this.defaultColDef={resizable:!0,flex:1,sortable:!0},this.rowData=[],this.colDefs=[{field:"id",headerName:"\u0631\u0642\u0645 \u0627\u0644\u0645\u062f\u064a\u0646\u0629"},{field:"name",headerName:" \u0627\u0633\u0645 \u0627\u0644\u0645\u062f\u064a\u0646\u0629"}]}new_city_dialog(){this.dialog.open(T,{width:"500px",height:"300px",data:{Title:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0639\u0645\u0644\u064a\u0629",Message:"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062d\u062f\u0641\u061f"}})}edit_city_dialog(){this.dialog.open(Z,{width:"500px",height:"300px",data:{Title:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u062f\u064a\u0646\u0629",id:this.selected_cell,name:this.selected_cell_name}})}delete_city_dialog(){this.dialog.open(v.N,{width:"500px",height:"200px",data:{Title:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0639\u0645\u0644\u064a\u0629",Message:"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062d\u062f\u0641\u061f"}}).afterClosed().subscribe({next:o=>{console.log("ress"+o),1==o&&this.cities.deletecity(this.selected_cell).subscribe({next:i=>{console.log(i),this.openSnackBar("\u062a\u0645\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d","\u062d\u0630\u0641"),window.location.reload()},error:i=>{console.log(i),this.openSnackBarfalse("\u0644\u0645 \u062a\u062a\u0645 \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u064a\u0631\u062c\u0649 \u0627\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629","\u062d\u0630\u0641")}}),0==o&&console.log("itsss false")}})}ngOnInit(){this.cities.allcities().subscribe({next:e=>{console.log(e),this.rowData=e.data},error:e=>{console.log(e)}})}onCellClicked(e){this.selected_cell=e.data.id,this.selected_cell_name=e.data.name,this.show_delete_btn=!0,this.show_edit_btn=!0}onRowDoubleClick(e){console.log(e)}openSnackBar(e,o){this._snackBar.open(e,o,{duration:2e3,panelClass:["mat-toolbar","mat-primary"]})}openSnackBarfalse(e,o){this._snackBar.open(e,o,{duration:2e3,panelClass:["mat-toolbar","mat-warn"]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.ux),t.Y36(r.uw),t.Y36(p.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cities"]],decls:8,vars:10,consts:[[1,"buttons"],["mat-raised-button","","color","primary",1,"btnrow",3,"click"],[2,"color","white"],["class","btnrow","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","btnrow","mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"ag-theme-alpine","text-end","service-list-grid",3,"columnDefs","rowData","rowSelection","animateRows","headerHeight","rowHeight","overlayNoRowsTemplate","defaultColDef","cellClicked","rowDoubleClicked"],["mat-raised-button","","color","warn",1,"btnrow",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.new_city_dialog()}),t._uU(2,"\u0625\u0636\u0627\u0641\u0640\u0629 \u0645\u062f\u064a\u0646\u0629 "),t.TgZ(3,"mat-icon",2),t._uU(4,"add"),t.qZA()(),t.YNc(5,k,4,0,"button",3),t.YNc(6,N,4,0,"button",4),t.qZA(),t.TgZ(7,"ag-grid-angular",5),t.NdJ("cellClicked",function(c){return o.onCellClicked(c)})("rowDoubleClicked",function(c){return o.onRowDoubleClick(c)}),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngIf",o.show_edit_btn),t.xp6(1),t.Q6J("ngIf",o.show_delete_btn),t.xp6(1),t.Q6J("columnDefs",o.colDefs)("rowData",o.rowData)("rowSelection","multiple")("animateRows",!0)("headerHeight",35)("rowHeight",35)("overlayNoRowsTemplate","\u0644\u0627 \u064a\u0648\u062c\u062f \u062e\u062f\u0645\u0627\u062a \u0644\u0639\u0631\u0636\u0647\u0627")("defaultColDef",o.defaultColDef))},dependencies:[d.O5,C.N8,g.lW,y.Hw],styles:[".buttons[_ngcontent-%COMP%]{direction:rtl;margin-bottom:15px}.btnrow[_ngcontent-%COMP%]{margin-right:10px;font-family:alexandria}ag-grid-angular[_ngcontent-%COMP%]{height:920px;width:1900px}  .service-list-grid .ag-ltr .ag-cell{direction:rtl}  .service-list-grid .ag-ltr .ag-header-select-all{margin-left:18px}  .service-list-grid .ag-ltr .ag-selection-checkbox{margin-left:12px!important}  .service-list-grid .ag-ltr .ag-cell{font-size:20px;padding:4px;font-family:cairo}  .ag-header-cell-label{justify-content:right;font-size:15px;color:#fff;font-family:alexandria}  .service-list-grid .ag-root-wrapper{border:none}  .service-list-grid .ag-header{background-color:#4f7942;font-family:cairo}  .bg-danger-cell{background-color:var(--color-danger-600);font-weight:700;color:#fff}  .service-list-grid .ag-row-odd{background-color:#eee}  .service-list-grid .ag-row-selected{background-color:#9cd3ff;color:#000}  .service-list-grid .ag-row-hover{background-color:#aad9ff;color:#000}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(A),f.Bz]}),n})();var S=a(9832),B=a(9224),O=a(2081),J=a(4594),D=a(2181),U=a(9062),I=a(9814),F=a(1079);let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,M,C.sF,r.Is,g.ot,S.vV,B.QW,y.Ps,O.T5,m.ZX,J.g0,u.lN,h.c,D.Tx,U.TU,f.Bz,l.u5,I.Fk,F.Bb,l.UX,C.sF]}),n})()}}]);